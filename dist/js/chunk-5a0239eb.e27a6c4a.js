(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a0239eb"],{5646:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"main-area container"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),a("div",{staticClass:"row justify-content-center align-items-center"},[a("div",{staticClass:"col-sm-10 align-self-center"},[t._m(0),a("div",{staticClass:"cartContent"},[a("div",{staticClass:"col-12 align-self-center"},[a("h5",{staticClass:"mb-5"},[t._v("訂購成功！感謝您的購買~")]),a("div",{staticClass:"mb-4"},[a("a",{staticClass:"btn btn-outline-primary",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.openModal(t.orderId)}}},[t._v("查看訂單明細")])]),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:"/products"}},[t._v("返回商品頁面")])],1)])])]),a("div",{staticClass:"modal",attrs:{id:"orderInfo",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body text-left"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"cartTable border rounded"},t._l(t.order.products,(function(s,e){return a("div",{key:e,staticClass:"row d-flex justify-content-between "},[a("div",{staticClass:"col-content col-4 d-flex justify-content-start align-items-center"},[a("div",{staticClass:"pl-3"},[t._v(" "+t._s(s.product.title)+" ")])]),a("div",{staticClass:"col-content col-4 d-flex justify-content-center align-items-center"},[t._v(" "+t._s(s.quantity)+" "+t._s(s.product.unit)+" ")]),a("div",{staticClass:"col-content col-4 d-flex justify-content-end align-items-center"},[a("div",{staticClass:"pr-3"},[t._v(" NT"+t._s(t._f("currency")(s.product.price))+" ")])])])})),0)])]),a("hr"),a("div",{staticClass:"purchaseInfo row"},[a("div",{staticClass:"col-lg-6"},[t._m(2),a("form",[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label font-weight-bold",attrs:{for:"username"}},[t._v("訂購人")]),a("div",{staticClass:"col-sm-9"},[a("input",{staticClass:"form-control-plaintext",attrs:{type:"text",readonly:"",id:"username"},domProps:{value:t.order.user.name}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label font-weight-bold",attrs:{for:"email"}},[t._v("訂購信箱")]),a("div",{staticClass:"col-sm-9"},[a("input",{staticClass:"form-control-plaintext",attrs:{type:"mail",readonly:"",id:"email"},domProps:{value:t.order.user.email}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label font-weight-bold",attrs:{for:"phone"}},[t._v("訂購電話")]),a("div",{staticClass:"col-sm-9"},[a("input",{staticClass:"form-control-plaintext",attrs:{type:"phone",readonly:"",id:"phone"},domProps:{value:t.order.user.tel}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label font-weight-bold",attrs:{for:"address"}},[t._v("收件地址")]),a("div",{staticClass:"col-sm-9"},[a("input",{staticClass:"form-control-plaintext",attrs:{type:"text",readonly:"",id:"address"},domProps:{value:t.order.user.address}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label font-weight-bold",attrs:{for:"payment"}},[t._v("付款方式")]),a("div",{staticClass:"col-sm-9"},[a("input",{staticClass:"form-control-plaintext",attrs:{type:"text",readonly:"",id:"payment"},domProps:{value:t.order.payment}})])])])]),a("div",{staticClass:"col-lg-6"},[t._m(3),a("div",{staticClass:"sumTable"},[a("div",{staticClass:"row d-flex justify-content-end"},[a("div",{staticClass:"col-12 d-flex justify-content-end align-items-start pb-2 text-sensaicha"},[a("table",{staticClass:"table text-right text-primary"},[a("tbody",[a("tr",[a("td",{staticClass:"border-top-0",attrs:{scope:"col"}},[t._v(" 共 "+t._s(t.quantityTatol)+" 件商品 ")]),a("td",{staticClass:"border-top-0",attrs:{scope:"col"}},[t._v("商品金額")]),a("td",{staticClass:"border-top-0",attrs:{scope:"col"}},[t._v(" NT"+t._s(t._f("currency")(t.order.amount))+" ")])]),a("tr",{staticClass:"text-danger"},[a("td",{staticClass:"border-top-0",attrs:{scope:"col"}}),a("td",{staticClass:"border-top-0",attrs:{scope:"col"}},[t._v("優惠券")]),a("td",{staticClass:"border-top-0",attrs:{scope:"col"}},[t.isEnabled?a("span",[t._v(" "+t._s(t.order.coupon.title)+" ")]):a("span",[t._v(" 未使用 ")])])]),a("tr",[a("td",{staticClass:"border-top-0",attrs:{scope:"col"}}),a("td",{staticClass:"border-top-0",attrs:{scope:"col"}},[t._v("運費")]),a("td",{staticClass:"border-top-0",attrs:{scope:"col"}},[t.order.amount>=999?a("span",[t._v(" NT"+t._s(t._f("currency")(0))+" ")]):a("span",[t._v(" NT"+t._s(t._f("currency")(80))+" ")])])]),a("tr",[a("td",{attrs:{scope:"col"}}),a("td",{attrs:{scope:"col"}},[t._v("總計")]),a("td",{staticClass:"text-danger",attrs:{scope:"col"}},[t.order.amount>=999?a("span",[t._v(" NT"+t._s(t._f("currency")(t.order.amount))+" ")]):a("span",[t._v(" NT"+t._s(t._f("currency")(t.order.amount+80))+" ")])])])])])])])])])])]),t._m(4)])])])],1)},r=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",{staticClass:"step-progressbar py-3"},[a("li",{staticClass:"step-progressbar__item step-progressbar__item--complete"},[a("small",[t._v("確認購物車")])]),a("li",{staticClass:"step-progressbar__item step-progressbar__item--complete"},[a("small",[t._v("填寫資料")])]),a("li",{staticClass:"step-progressbar__item step-progressbar__item--complete"},[a("small",[t._v("確認付款")])]),a("li",{staticClass:"step-progressbar__item step-progressbar__item--complete"},[a("small",[t._v("訂購完成")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[a("span",[t._v("訂單詳情")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"mb-3"},[a("p",{staticClass:"font-weight-bold"},[t._v("訂購資訊")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"mb-3"},[a("p",{staticClass:"font-weight-bold m-0"},[t._v("總金額")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("關閉")])])}],o=(a("99af"),a("4160"),a("159b"),a("1157")),i=a.n(o),l={name:"PurchaseSuccessful",data:function(){return{isLoading:!1,fullPage:!0,order:{user:{}},orderId:"",isEnabled:!1,quantityTatol:0,uuid:"ea556ec5-4643-415e-96a7-36c78142eb82"}},created:function(){this.orderId=this.$route.params.orderId},methods:{getOrder:function(){var t=this;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/","api/").concat(this.uuid,"/ec/orders/").concat(this.orderId);this.$http.get(s).then((function(s){t.order=s.data.data,null===t.order.coupon?t.isEnabled=!1:t.isEnabled=!0,t.calTotal(),t.isLoading=!1})).catch((function(s){t.isLoading=!1,t.$bus.$emit("message:push","資料讀取失敗，請稍後再試\n            ".concat(s),"danger")}))},calTotal:function(){var t=0;this.order.products.forEach((function(s){t+=s.quantity})),this.quantityTatol=t},openModal:function(t){i()("#orderInfo").modal("show"),this.order={user:{}},this.getOrder(t.id)}}},c=l,n=a("2877"),d=Object(n["a"])(c,e,r,!1,null,null,null);s["default"]=d.exports},"99af":function(t,s,a){"use strict";var e=a("23e7"),r=a("d039"),o=a("e8b5"),i=a("861d"),l=a("7b0b"),c=a("50c4"),n=a("8418"),d=a("65f0"),u=a("1dde"),p=a("b622"),m=a("2d00"),f=p("isConcatSpreadable"),v=9007199254740991,_="Maximum allowed index exceeded",C=m>=51||!r((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),b=u("concat"),h=function(t){if(!i(t))return!1;var s=t[f];return void 0!==s?!!s:o(t)},g=!C||!b;e({target:"Array",proto:!0,forced:g},{concat:function(t){var s,a,e,r,o,i=l(this),u=d(i,0),p=0;for(s=-1,e=arguments.length;s<e;s++)if(o=-1===s?i:arguments[s],h(o)){if(r=c(o.length),p+r>v)throw TypeError(_);for(a=0;a<r;a++,p++)a in o&&n(u,p,o[a])}else{if(p>=v)throw TypeError(_);n(u,p++,o)}return u.length=p,u}})}}]);
//# sourceMappingURL=chunk-5a0239eb.e27a6c4a.js.map